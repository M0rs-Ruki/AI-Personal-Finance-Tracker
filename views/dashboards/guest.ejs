<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RukiAI | Financial Intelligence</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Roboto+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="shortcut icon" href="/images/logo.png" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&family=Roboto+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: '#0F0F0F',
                        gold: '#FFD700',
                        'gold-light': 'rgba(255, 215, 0, 0.2)',
                        'gold-hover': '#FFE55C',
                        'dark-card': '#1A1A1A',
                        'dark-panel': '#121212'
                    },
                    fontFamily: {
                        montserrat: ['Montserrat', 'sans-serif'],
                        mono: ['Roboto Mono', 'monospace']
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'confetti': 'confetti 5s ease forwards'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        confetti: {
                            '0%': { transform: 'translateY(0) rotate(0)', opacity: '1' },
                            '100%': { transform: 'translateY(100vh) rotate(720deg)', opacity: '0' }
                        }
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="/styles/dashboard/guest.css">
</head>
<body class="bg-dark min-h-screen">
    <!-- Confetti effect container -->
    <div id="confetti-container" class="fixed top-0 left-0 w-full h-full pointer-events-none z-50"></div>
    
    <!-- Header -->
    <header class="border-b border-gold/20 sticky top-0 bg-dark/95 backdrop-blur-sm z-40">
        <div class="container mx-auto px-3 sm:px-4 py-3 sm:py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2 sm:space-x-3">
                <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gold flex items-center justify-center gold-glow">
                    <i class="fas fa-robot text-dark text-lg sm:text-xl"></i>
                </div>
                <h1 class="text-xl sm:text-2xl font-montserrat font-bold text-gold glow-text">Ruki<span class="text-white">AI</span></h1>
                <div class="inline-block ml-2 sm:ml-4 text-xs bg-gold text-dark px-2 py-1 rounded font-bold font-montserrat tracking-wide">
                    BETA
                </div>
            </div>
            
            <div class="flex items-center space-x-3 sm:space-x-6">
                <div class="flex items-center space-x-6">
                    <!-- Nav Icons -->
                    <div class="nav-icons flex items-center space-x-6 text-[#FFD700]">
                        <!-- Profile Icon -->
                        <div class="nav-icon text-3xl p-2 rounded-full hover:shadow-gold-glow transition-all duration-300 ease-in-out cursor-pointer"
                            title="Profile" onclick="window.location.href='/user/profile'">
                            <i class="fas fa-user"></i>
                        </div>
                
                        <!-- Settings Icon with Notification Dot -->
                        <div class="nav-icon relative text-3xl p-2 rounded-full hover:shadow-gold-glow transition-all duration-300 ease-in-out cursor-pointer"
                            title="Settings" onclick="window.location.href='/student/edit'">
                            <i class="fas fa-cog"></i>
                            <div class="notification-dot absolute top-1 right-1 w-2.5 h-2.5 rounded-full bg-[#FFD700] animate-ping">
                            </div>
                        </div>
                
                        <!-- Logout Icon -->
                        <div class="nav-icon text-3xl p-2 rounded-full hover:shadow-gold-glow transition-all duration-300 ease-in-out cursor-pointer"
                            title="Logout" onclick="window.location.href='/user/logout'">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                    </div>
                
                </div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="container mx-auto px-3 sm:px-4 py-4 sm:py-8">

        <% 
        const monthlyIncome = guest.monthlyIncome || 0;

        const totalSaved = guest.financialGoal?.reduce((sum, goal) => sum + (goal.currentAmount || 0), 0) || 0;
        const savingsRate = monthlyIncome > 0 ? ((totalSaved / monthlyIncome) * 100).toFixed(1) : '0';

        const totalFixedExpenses = guest.fixedExpenses?.reduce((sum, exp) => sum + (exp.amount || 0), 0) || 0;
        const debtRatio = monthlyIncome > 0 ? ((totalFixedExpenses / monthlyIncome) * 100).toFixed(1) : '0';

        const sRate = parseFloat(savingsRate);
        const dRate = parseFloat(debtRatio);

        let grade = 'D';

        if (sRate >= 30 && dRate <= 20) {
            grade = 'A+';
        } else if (sRate >= 25 && dRate <= 25) {
            grade = 'A';
        } else if (sRate >= 20 && dRate <= 30) {
            grade = 'B+';
        } else if (sRate >= 15 && dRate <= 40) {
            grade = 'B';
        } else if (sRate >= 10 && dRate <= 50) {
            grade = 'C';
        }
        %>

        <!-- Financial Overview Banner -->
        <div class="hologram-container mb-6 sm:mb-10">
            <div class="hologram-effect rounded-xl sm:rounded-2xl p-4 sm:p-6 gold-border gold-glow">
                
                <!-- Mobile Layout -->
                <div class="block sm:hidden">
                    <div class="text-center mb-4">
                        <h2 class="text-xl font-montserrat font-bold text-gold mb-1">Financial Overview</h2>
                        <p class="text-gray-400 text-sm">Your AI-powered financial health analysis</p>
                    </div>

                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="text-center">
                            <div class="text-xl font-orbitron text-gold mb-1">
                                ₹<%= monthlyIncome.toLocaleString('en-IN') %>
                            </div>
                            <div class="text-gray-400 text-xs">Monthly Income</div>
                        </div>

                        <div class="text-center">
                            <div class="text-xl font-orbitron text-gold mb-1">
                                <%= savingsRate %>%
                            </div>
                            <div class="text-gray-400 text-xs">Savings Rate</div>
                        </div>

                        <div class="text-center">
                            <div class="text-xl font-orbitron text-gold mb-1">
                                <%= debtRatio %>%
                            </div>
                            <div class="text-gray-400 text-xs">Debt Ratio</div>
                        </div>
                        <div class="flex justify-center">
                            <div class="relative w-32 h-32 sm:w-36 sm:h-36 md:w-40 md:h-40">
                                <canvas id="financialHealthChart" class="absolute top-0 left-0 w-full h-full"></canvas>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <span class="text-xl font-orbitron text-gold z-10">
                                        <%= grade %>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Desktop Layout -->
                <div class="hidden sm:flex flex-col md:flex-row items-center justify-between gap-6">
                    <div>
                        <h2 class="text-2xl font-montserrat font-bold text-gold mb-2">Financial Overview</h2>
                        <p class="text-gray-400">Your AI-powered financial health analysis</p>
                    </div>

                    <div class="flex space-x-6">
                        <div class="text-center">
                            <div class="text-3xl font-orbitron text-gold mb-1">
                                ₹<%= monthlyIncome.toLocaleString('en-IN') %>
                            </div>
                            <div class="text-gray-400 text-sm">Monthly Income</div>
                        </div>

                        <div class="text-center">
                            <div class="text-3xl font-orbitron text-gold mb-1">
                                <%= savingsRate %>%
                            </div>
                            <div class="text-gray-400 text-sm">Savings Rate</div>
                        </div>

                        <div class="text-center">
                            <div class="text-3xl font-orbitron text-gold mb-1">
                                <%= debtRatio %>%
                            </div>
                            <div class="text-gray-400 text-sm">Debt Ratio</div>
                        </div>
                    </div>

                    <div class="relative w-32 h-32">
                        <canvas id="financialHealthChart" class="w-full h-full"></canvas>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-xl font-orbitron text-gold"><%= grade %></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile-First Layout -->
        <div class="space-y-6 sm:space-y-8">
            
            <!-- Mobile: AI Insights First -->
            <div class="block sm:hidden space-y-6">
                <!-- AI Advice Section -->
                <div class="bg-dark-card rounded-xl p-4 gold-border shadow-lg slide-in">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-lg font-montserrat font-bold text-gold glow-text">AI Financial Advisor</h2>
                        <div class="flex items-center space-x-2 bg-gold/10 px-2 py-1 rounded-full">
                            <div class="w-1.5 h-1.5 rounded-full bg-gold pulse-gold"></div>
                            <span class="text-gold text-xs">Online</span>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <!-- AI Advice Card 1 -->
                        <div class="ai-card bg-dark-panel rounded-lg p-4 gold-border hover:gold-glow-hover">
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gold/10 flex items-center justify-center mr-3">
                                    <i class="fas fa-lightbulb text-gold text-sm"></i>
                                </div>
                                <div>
                                    <h3 class="font-montserrat font-medium text-gold mb-2 text-sm">Emergency Fund Priority</h3>
                                    <p class="text-gray-300 text-xs leading-relaxed">Your emergency fund is only 10% funded. RukiAI recommends prioritizing this goal to reach at least ₹25,000 within 6 months.</p>
                                </div>
                            </div>
                            <div class="flex justify-end mt-3">
                                <button class="text-gold text-xs flex items-center">
                                    Implement Strategy
                                    <i class="fas fa-arrow-right ml-1 text-xs"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- AI Advice Card 2 -->
                        <div class="ai-card bg-dark-panel rounded-lg p-4 gold-border hover:gold-glow-hover">
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gold/10 flex items-center justify-center mr-3">
                                    <i class="fas fa-chart-line text-gold text-sm"></i>
                                </div>
                                <div>
                                    <h3 class="font-montserrat font-medium text-gold mb-2 text-sm">Savings Optimization</h3>
                                    <p class="text-gray-300 text-xs leading-relaxed">With your current savings rate of 18%, you can achieve your vacation goal in 16 months. Consider reducing discretionary spending by ₹1,500/month.</p>
                                </div>
                            </div>
                            <div class="flex justify-end mt-3">
                                <button class="text-gold text-xs flex items-center">
                                    View Plan
                                    <i class="fas fa-arrow-right ml-1 text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="font-montserrat font-medium text-gold text-sm">Ask RukiAI</h3>
                            <span class="text-xs text-gray-500">AI-powered guidance</span>
                        </div>
                        <div class="flex">
                            <input type="text" placeholder="How can I reach goals faster?" class="flex-grow bg-dark-panel border border-gold/30 text-white rounded-l-lg px-3 py-2 text-sm focus:gold-glow focus:border-gold outline-none">
                            <button class="bg-gold text-dark font-montserrat font-medium px-4 text-sm rounded-r-lg gold-btn">
                                Ask
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Action Plan - Mobile -->
                <div class="bg-dark-card rounded-xl p-4 gold-border shadow-lg slide-in">
                    <h2 class="text-lg font-montserrat font-semibold text-gold mb-4">Personalized Action Plan</h2>
                    
                    <div class="space-y-4">
                        <div class="hologram-effect p-4 rounded-lg border border-gold/20">
                            <div class="flex items-center mb-3">
                                <div class="w-6 h-6 rounded-full bg-gold/10 flex items-center justify-center mr-2">
                                    <i class="fas fa-piggy-bank text-gold text-xs"></i>
                                </div>
                                <h3 class="font-montserrat text-gold text-sm">Immediate Actions</h3>
                            </div>
                            <ul class="text-gray-300 text-xs space-y-2">
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-gold/80 mt-0.5 mr-1.5 text-xs"></i>
                                    <span>Set up auto-transfer of ₹5,000 to emergency fund</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-gold/80 mt-0.5 mr-1.5 text-xs"></i>
                                    <span>Review monthly subscriptions (save ₹800/month)</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="hologram-effect p-4 rounded-lg border border-gold/20">
                            <div class="flex items-center mb-3">
                                <div class="w-6 h-6 rounded-full bg-gold/10 flex items-center justify-center mr-2">
                                    <i class="fas fa-chart-pie text-gold text-xs"></i>
                                </div>
                                <h3 class="font-montserrat text-gold text-sm">Mid-Term Goals</h3>
                            </div>
                            <ul class="text-gray-300 text-xs space-y-2">
                                <li class="flex items-start">
                                    <i class="fas fa-bullseye text-gold/80 mt-0.5 mr-1.5 text-xs"></i>
                                    <span>Reach 50% of emergency fund in 3 months</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-bullseye text-gold/80 mt-0.5 mr-1.5 text-xs"></i>
                                    <span>Complete 1 skill certification in 60 days</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="hologram-effect p-4 rounded-lg border border-gold/20">
                            <div class="flex items-center mb-3">
                                <div class="w-6 h-6 rounded-full bg-gold/10 flex items-center justify-center mr-2">
                                    <i class="fas fa-seedling text-gold text-xs"></i>
                                </div>
                                <h3 class="font-montserrat text-gold text-sm">Long-Term Strategy</h3>
                            </div>
                            <ul class="text-gray-300 text-xs space-y-2">
                                <li class="flex items-start">
                                    <i class="fas fa-chess-king text-gold/80 mt-0.5 mr-1.5 text-xs"></i>
                                    <span>Establish 6-month emergency fund by Q2 2026</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-chess-king text-gold/80 mt-0.5 mr-1.5 text-xs"></i>
                                    <span>Begin investing 10% of income starting Q1 2026</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- User Summary - Mobile -->
            <div class="block sm:hidden space-y-6">
                <!-- User Status Card - Mobile -->
                <div class="bg-dark-card rounded-xl p-4 gold-border shadow-lg slide-in">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h2 class="text-lg font-montserrat font-semibold text-gold">Financial Status</h2>
                            <div class="flex items-center mt-2">
                                <div class="w-2.5 h-2.5 rounded-full bg-green-500 mr-2"></div>
                                <span class="text-white text-sm"><%= guest.currentStatus.charAt(0).toUpperCase() + guest.currentStatus.slice(1) %></span>
                            </div>
                        </div>
                        <div class="bg-gold/10 px-2 py-0.5 rounded-full">
                            <span class="text-gold text-xs">Active</span>
                        </div>
                    </div>

                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-gray-400 text-sm">Monthly Income</span>
                            <span class="font-montserrat text-gold text-sm">
                                ₹<%= guest.monthlyIncome?.toLocaleString('en-IN') %>
                            </span>
                        </div>
                        <div class="progress-track w-full">
                            <div class="progress-bar" style="width: 100%"></div>
                        </div>
                    </div>

                    <div>
                        <h3 class="font-montserrat text-gold text-sm mb-2">Financial Goals</h3>
                        <div class="space-y-3">
                            <% if (guest.financialGoal && guest.financialGoal.length > 0) { %>
                                <% guest.financialGoal.forEach(goal => { 
                                    const current = goal.currentAmount || 0;
                                    const target = goal.targetAmount || 1;
                                    const percentage = Math.min((current / target) * 100, 100).toFixed(0);
                                %>
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span class="text-white text-xs"><%= goal.name %></span>
                                        <span class="text-gold text-xs">₹<%= current.toLocaleString('en-IN') %>/₹<%= target.toLocaleString('en-IN') %></span>
                                    </div>
                                    <div class="progress-track w-full">
                                        <div class="progress-bar" style="width: <%= percentage %>%"></div>
                                    </div>
                                </div>
                                <% }) %>
                            <% } else { %>
                                <p class="text-gray-500 italic text-xs">No financial goals added yet.</p>
                            <% } %>
                        </div>
                    </div>

                    <button class="w-full mt-4 py-2.5 rounded-lg bg-gold text-dark font-montserrat font-medium text-sm gold-btn">
                        Add New Goal
                    </button>
                </div>
                
                <!-- Financial Health Card - Mobile -->
                <div class="bg-dark-card rounded-xl p-4 gold-border shadow-lg slide-in relative">
                    <h2 class="text-lg font-montserrat font-semibold text-gold mb-4">Financial Health</h2>
                    
                    <%
                    const emergencyGoal = guest.financialGoal?.find(goal => goal.name.toLowerCase().includes("emergency"));
                    const emergencyProgress = emergencyGoal 
                        ? Math.min((emergencyGoal.currentAmount / emergencyGoal.targetAmount) * 100, 100).toFixed(1)
                        : '0';
                    %>

                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-gray-400 text-sm">Savings Rate</span>
                                <span class="font-montserrat text-gold text-sm"><%= savingsRate %>%</span>
                            </div>
                            <div class="progress-track w-full">
                                <div class="progress-bar" style="width: <%= savingsRate %>%"></div>
                            </div>
                            <p class="text-gray-500 text-2xs mt-1">Recommended: 20% or higher</p>
                        </div>

                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-gray-400 text-sm">Emergency Fund</span>
                                <span class="font-montserrat text-gold text-sm"><%= emergencyProgress %>%</span>
                            </div>
                            <div class="progress-track w-full">
                                <div class="progress-bar" style="width: <%= emergencyProgress %>%"></div>
                            </div>
                            <p class="text-gray-500 text-2xs mt-1">Target: 6 months of expenses</p>
                        </div>

                        <div>
                            <div class="flex justify-between mb-1">
                                <span class="text-gray-400 text-sm">Debt Ratio</span>
                                <span class="font-montserrat text-gold text-sm"><%= debtRatio %>%</span>
                            </div>
                            <div class="progress-track w-full">
                                <div class="progress-bar" style="width: <%= debtRatio %>%"></div>
                            </div>
                            <p class="text-gray-500 text-2xs mt-1">Healthy range: below 35%</p>
                        </div>
                    </div>

                    <!-- Financial Grade Circle -->
                    <div class="absolute top-4 right-4">
                        <div class="w-12 h-12 rounded-full border border-gold/20 flex items-center justify-center">
                            <div class="w-9 h-9 rounded-full border border-gold flex items-center justify-center">
                                <span class="text-gold text-xs"><%= grade %></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Desktop Layout -->
            <div class="hidden sm:grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Left Column - User Summary -->
                <div class="lg:col-span-1 space-y-8">
                    <!-- User Status Card -->
                    <div class="bg-dark-card rounded-xl p-6 gold-border shadow-lg financial-card slide-in" style="animation-delay: 0.1s">
                        <div class="flex justify-between items-start">
                            <div>
                                <h2 class="text-xl font-montserrat font-semibold text-gold mb-2">Financial Status</h2>
                                <div class="flex items-center mb-4">
                                    <div class="w-3 h-3 rounded-full bg-green-500 mr-2"></div>
                                    <span class="text-white"><%= guest.currentStatus.charAt(0).toUpperCase() + guest.currentStatus.slice(1) %></span>
                                </div>
                            </div>
                            <div class="bg-gold/10 px-3 py-1 rounded-full">
                                <span class="text-gold text-sm">Active</span>
                            </div>
                        </div>

                        <div class="mt-6">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-gray-400">Monthly Income</span>
                                <span class="font-montserrat text-gold">
                                    ₹<%= guest.monthlyIncome?.toLocaleString('en-IN') %>
                                </span>
                            </div>
                            <div class="progress-track w-full">
                                <div class="progress-bar" style="width: 100%"></div>
                            </div>
                        </div>

                        <div class="mt-8">
                            <h3 class="font-montserrat text-gold mb-3">Financial Goals</h3>
                            <div class="space-y-4">
                                <% if (guest.financialGoal && guest.financialGoal.length > 0) { %>
                                    <% guest.financialGoal.forEach(goal => { 
                                        const current = goal.currentAmount || 0;
                                        const target = goal.targetAmount || 1;
                                        const percentage = Math.min((current / target) * 100, 100).toFixed(0);
                                    %>
                                    <div>
                                        <div class="flex justify-between mb-1">
                                            <span class="text-white"><%= goal.name %></span>
                                            <span class="text-gold">₹<%= current.toLocaleString('en-IN') %>/₹<%= target.toLocaleString('en-IN') %></span>
                                        </div>
                                        <div class="progress-track w-full">
                                            <div class="progress-bar" style="width: <%= percentage %>%"></div>
                                        </div>
                                    </div>
                                    <% }) %>
                                <% } else { %>
                                    <p class="text-gray-500 italic">No financial goals added yet.</p>
                                <% } %>
                            </div>
                        </div>

                        <button class="w-full mt-6 py-3 rounded-xl bg-gold text-dark font-montserrat font-medium gold-btn">
                            Add New Goal
                        </button>
                    </div>
                    
                    <!-- Financial Health Card -->
                    <div class="bg-dark-card rounded-xl p-6 gold-border shadow-lg financial-card slide-in relative" style="animation-delay: 0.2s">
                        <h2 class="text-xl font-montserrat font-semibold text-gold mb-6">Financial Health</h2>
                        

                        <div class="space-y-6">
                            <!-- Savings Rate -->
                            <div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-gray-400">Savings Rate</span>
                                    <span class="font-montserrat text-gold"><%= savingsRate %>%</span>
                                </div>
                                <div class="progress-track w-full">
                                    <div class="progress-bar" style="width: <%= savingsRate %>%"></div>
                                </div>
                                <p class="text-xs text-gray-500 mt-1">Recommended: 20% or higher</p>
                            </div>

                            <!-- Emergency Fund Progress -->
                            <div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-gray-400">Emergency Fund Progress</span>
                                    <span class="font-montserrat text-gold"><%= emergencyProgress %>%</span>
                                </div>
                                <div class="progress-track w-full">
                                    <div class="progress-bar" style="width: <%= emergencyProgress %>%"></div>
                                </div>
                                <p class="text-xs text-gray-500 mt-1">Target: 6 months of expenses</p>
                            </div>

                            <!-- Debt-to-Income Ratio -->
                            <div>
                                <div class="flex justify-between mb-2">
                                    <span class="text-gray-400">Debt-to-Income Ratio</span>
                                    <span class="font-montserrat text-gold"><%= debtRatio %>%</span>
                                </div>
                                <div class="progress-track w-full">
                                    <div class="progress-bar" style="width: <%= debtRatio %>%"></div>
                                </div>
                                <p class="text-xs text-gray-500 mt-1">Healthy range: below 35%</p>
                            </div>
                        </div>

                        <!-- Financial Grade Circle -->
                        <div class="absolute top-4 right-4">
                            <div class="w-16 h-16 rounded-full border-2 border-gold/20 flex items-center justify-center">
                                <div class="w-12 h-12 rounded-full border-2 border-gold flex items-center justify-center">
                                    <span class="text-gold text-xs"><%= grade %></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Holographic Data Visualization -->
                    <div class="hologram-container">
                        <div class="hologram-effect rounded-xl p-6 gold-border shadow-lg slide-in h-64 flex items-center justify-center">
                            <div class="data-sphere" id="dataSphere"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Center Column - AI Insights -->
                <div class="lg:col-span-2 space-y-8">
                    <!-- AI Advice Section -->
                    <div class="bg-dark-card rounded-xl p-6 gold-border shadow-lg slide-in" style="animation-delay: 0.3s">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-2xl font-montserrat font-bold text-gold glow-text">AI Financial Advisor</h2>
                            <div class="flex items-center space-x-2 bg-gold/10 px-3 py-1 rounded-full">
                                <div class="w-2 h-2 rounded-full bg-gold pulse-gold"></div>
                                <span class="text-gold text-sm">Online</span>
                            </div>
                        </div>
                        
                        <div class="space-y-6">
                            <!-- AI Advice Card 1 -->
                            <div class="ai-card bg-dark-panel rounded-lg p-5 gold-border hover:gold-glow-hover">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center mr-4">
                                        <i class="fas fa-lightbulb text-gold"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-montserrat font-medium text-gold mb-2">Emergency Fund Priority</h3>
                                        <p class="text-gray-300">Your emergency fund is only 10% funded. RukiAI recommends prioritizing this goal to reach at least ₹25,000 within 6 months. Consider allocating an additional ₹3,500/month to this goal.</p>
                                    </div>
                                </div>
                                <div class="flex justify-end mt-4">
                                    <button class="text-gold text-sm flex items-center">
                                        Implement Strategy
                                        <i class="fas fa-arrow-right ml-2 text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- AI Advice Card 2 -->
                            <div class="ai-card bg-dark-panel rounded-lg p-5 gold-border hover:gold-glow-hover">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center mr-4">
                                        <i class="fas fa-chart-line text-gold"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-montserrat font-medium text-gold mb-2">Savings Optimization</h3>
                                        <p class="text-gray-300">With your current savings rate of 18%, you can achieve your vacation goal in 16 months. By increasing your savings rate to 22%, you could achieve it in 13 months. Consider reducing discretionary spending by ₹1,500/month.</p>
                                    </div>
                                </div>
                                <div class="flex justify-end mt-4">
                                    <button class="text-gold text-sm flex items-center">
                                        View Plan
                                        <i class="fas fa-arrow-right ml-2 text-xs"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- AI Advice Card 3 -->
                            <div class="ai-card bg-dark-panel rounded-lg p-5 gold-border hover:gold-glow-hover">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0 w-10 h-10 rounded-full bg-gold/10 flex items-center justify-center mr-4">
                                        <i class="fas fa-hand-holding-usd text-gold"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-montserrat font-medium text-gold mb-2">Income Enhancement</h3>
                                        <p class="text-gray-300">Analysis shows a 15% potential to increase your income through skill development in your field. RukiAI recommends exploring these high-ROI certifications that could boost your monthly income by ₹3,000-₹5,000.</p>
                                    </div>
                                </div>
                                <div class="flex justify-end mt-4">
                                    <button class="text-gold text-sm flex items-center">
                                        Explore Opportunities
                                        <i class="fas fa-arrow-right ml-2 text-xs"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-montserrat font-medium text-gold">Ask RukiAI</h3>
                                <span class="text-xs text-gray-500">AI-powered financial guidance</span>
                            </div>
                            <div class="flex">
                                <input type="text" placeholder="How can I reach my goals faster?" class="flex-grow bg-dark-panel border border-gold/30 text-white rounded-l-lg px-4 py-3 focus:gold-glow focus:border-gold outline-none">
                                <button class="bg-gold text-dark font-montserrat font-medium px-6 rounded-r-lg gold-btn">
                                    Ask
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Plan -->
                    <div class="bg-dark-card rounded-xl p-6 gold-border shadow-lg slide-in" style="animation-delay: 0.4s">
                        <h2 class="text-xl font-montserrat font-semibold text-gold mb-6">Personalized Action Plan</h2>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="hologram-effect p-5 rounded-lg border border-gold/20">
                                <div class="flex items-center mb-3">
                                    <div class="w-8 h-8 rounded-full bg-gold/10 flex items-center justify-center mr-3">
                                        <i class="fas fa-piggy-bank text-gold"></i>
                                    </div>
                                    <h3 class="font-montserrat text-gold">Immediate Actions</h3>
                                </div>
                                <ul class="text-gray-300 text-sm space-y-2">
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle text-gold/80 mt-1 mr-2 text-xs"></i>
                                        <span>Set up auto-transfer of ₹5,000 to emergency fund</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle text-gold/80 mt-1 mr-2 text-xs"></i>
                                        <span>Review monthly subscriptions (save ₹800/month)</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="hologram-effect p-5 rounded-lg border border-gold/20">
                                <div class="flex items-center mb-3">
                                    <div class="w-8 h-8 rounded-full bg-gold/10 flex items-center justify-center mr-3">
                                        <i class="fas fa-chart-pie text-gold"></i>
                                    </div>
                                    <h3 class="font-montserrat text-gold">Mid-Term Goals</h3>
                                </div>
                                <ul class="text-gray-300 text-sm space-y-2">
                                    <li class="flex items-start">
                                        <i class="fas fa-bullseye text-gold/80 mt-1 mr-2 text-xs"></i>
                                        <span>Reach 50% of emergency fund in 3 months</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-bullseye text-gold/80 mt-1 mr-2 text-xs"></i>
                                        <span>Complete 1 skill certification in 60 days</span>
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="hologram-effect p-5 rounded-lg border border-gold/20">
                                <div class="flex items-center mb-3">
                                    <div class="w-8 h-8 rounded-full bg-gold/10 flex items-center justify-center mr-3">
                                        <i class="fas fa-seedling text-gold"></i>
                                    </div>
                                    <h3 class="font-montserrat text-gold">Long-Term Strategy</h3>
                                </div>
                                <ul class="text-gray-300 text-sm space-y-2">
                                    <li class="flex items-start">
                                        <i class="fas fa-chess-king text-gold/80 mt-1 mr-2 text-xs"></i>
                                        <span>Establish 6-month emergency fund by Q2 2026</span>
                                    </li>
                                    <li class="flex items-start">
                                        <i class="fas fa-chess-king text-gold/80 mt-1 mr-2 text-xs"></i>
                                        <span>Begin investing 10% of income starting Q1 2026</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-8"></div>
                        <div class="bg-dark-card rounded-xl p-6 gold-border shadow-lg slide-in" style="animation-delay: 0.4s">
                            <p class="text-gray-400">
                                <span class="font-semibold text-white">Beta Notice Description:</span>
                                This project is currently in its Beta version. While the core
                                features are functional, many enhancements, improvements, and
                                additional modules are still under active development. We
                                appreciate your patience as we continue to refine the
                                platform and roll out updates.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="border-t border-gold/20 mt-12 py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center mb-4 md:mb-0">
                    <div class="w-8 h-8 rounded-full bg-gold flex items-center justify-center mr-3">
                        <i class="fas fa-robot text-dark"></i>
                    </div>
                    <h3 class="text-xl font-montserrat font-bold text-gold">Ruki<span class="text-white">AI</span></h3>
                </div>
                
                <div class="flex space-x-6 mb-4 md:mb-0">
                    <a href="#" class="text-gray-400 hover:text-gold transition-colors">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-gold transition-colors">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-gold transition-colors">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-gold transition-colors">
                        <i class="fab fa-medium"></i>
                    </a>
                </div>
                
                <div>
                    <p class="text-gray-500 text-sm">© 2025 RukiAI Financial Intelligence. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    
    <script src="/scripts/dashboards/guest.js"></script>
</body>
</html>

<%- include('partials/reviewButton') %>