<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retirement Profile Tester</title>
</head>
<body>
    <h1>Retirement Profile Tester</h1>
    
    <form method="POST" action="/userType/retired">
        <!-- User ID -->
        <input type="hidden" name="userId" value="<%= userId %>">

        <!-- Income Sources -->
        <fieldset>
            <legend>Income Sources</legend>
            
            <!-- Pension Question -->
            <h3>Do you receive a pension?</h3>
            <div>
                <input type="radio" id="pensionYes" name="receivesPension" value="yes">
                <label for="pensionYes">Yes</label>
                <input type="radio" id="pensionNo" name="receivesPension" value="no" checked>
                <label for="pensionNo">No</label>
            </div>

            <div id="pensionDetailsContainer" style="display: none;">
                <h3>Pension</h3>
                <div>
                    <div>
                        <input type="checkbox" id="pensionReceives" name="pension[receives]" value="true">
                        <label for="pensionReceives">Receives pension?</label>
                    </div>
                    <label for="pensionAmount">Amount</label>
                    <input type="number" id="pensionAmount" name="pension[amount]" min="0">
                    <label for="pensionFrequency">Frequency</label>
                    <select id="pensionFrequency" name="pension[frequency]">
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                        <option value="semi-annual">Semi-Annual</option>
                        <option value="annual">Annual</option>
                    </select>
                </div>
            </div>
            
            <h3>Other Income Sources</h3>
            <div>
                <h4>Source 1</h4>
                <div>
                    <label>Source</label>
                    <input type="text" name="otherIncomeSources[0][source]" placeholder="Source name">
                    <label>Amount</label>
                    <input type="number" name="otherIncomeSources[0][amount]" min="0">
                    <label>Frequency</label>
                    <select name="otherIncomeSources[0][frequency]">
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                        <option value="semi-annual">Semi-Annual</option>
                        <option value="annual">Annual</option>
                        <option value="occasional">Occasional</option>
                    </select>
                </div>
            </div>
            
            <div>
                <h4>Source 2</h4>
                <div>
                    <label>Source</label>
                    <input type="text" name="otherIncomeSources[1][source]" placeholder="Source name">
                    <label>Amount</label>
                    <input type="number" name="otherIncomeSources[1][amount]" min="0">
                    <label>Frequency</label>
                    <select name="otherIncomeSources[1][frequency]">
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                        <option value="semi-annual">Semi-Annual</option>
                        <option value="annual">Annual</option>
                        <option value="occasional">Occasional</option>
                    </select>
                </div>
            </div>
            
            <h3>Retirement Account Withdrawals</h3>
            <div>
                <h4>Withdrawal 1</h4>
                <div>
                    <label>Type</label>
                    <select name="retirementAccountWithdrawals[0][type]">
                        <option value="EPF (Employee Provident Fund)">EPF</option>
                        <option value="NPS (National Pension System)">NPS</option>
                        <option value="PPF (Public Provident Fund)">PPF</option>
                        <option value="Annuity (Pension Plans from Insurance Companies)">Annuity</option>
                        <option value="Other">Other</option>
                    </select>
                    <label>Monthly Amount</label>
                    <input type="number" name="retirementAccountWithdrawals[0][monthlyAmount]" min="0">
                </div>
            </div>
            
            <div>
                <h4>Withdrawal 2</h4>
                <div>
                    <label>Type</label>
                    <select name="retirementAccountWithdrawals[1][type]">
                        <option value="EPF (Employee Provident Fund)">EPF</option>
                        <option value="NPS (National Pension System)">NPS</option>
                        <option value="PPF (Public Provident Fund)">PPF</option>
                        <option value="Annuity (Pension Plans from Insurance Companies)">Annuity</option>
                        <option value="Other">Other</option>
                    </select>
                    <label>Monthly Amount</label>
                    <input type="number" name="retirementAccountWithdrawals[1][monthlyAmount]" min="0">
                </div>
            </div>
        </fieldset>

        <!-- Expenses -->
        <fieldset>
            <legend>Expenses</legend>
            
            <h3>Housing</h3>
            <div>
                <label>Mortgage/Rent</label>
                <input type="number" name="housing[mortgageOrRent]" min="0">
                <label>Insurance</label>
                <input type="number" name="housing[insurance]" min="0">
                <label>Maintenance</label>
                <input type="number" name="housing[maintenance]" min="0">
            </div>
            
            <h3>Healthcare</h3>
            <div>
                <label>Monthly Premium</label>
                <input type="number" name="healthcare[monthlyPremium]" min="0">
                <label>Out-of-Pocket</label>
                <input type="number" name="healthcare[outOfPocket]" min="0">
            </div>
            
            <h3>Other Expenses</h3>
            <div>
                <h4>Expense 1</h4>
                <div>
                    <label>Name</label>
                    <input type="text" name="otherExpenses[0][name]" placeholder="Expense name">
                    <label>Amount</label>
                    <input type="number" name="otherExpenses[0][amount]" min="0">
                    <label>Frequency</label>
                    <select name="otherExpenses[0][frequency]">
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                        <option value="annual">Annual</option>
                    </select>
                </div>
            </div>
            
            <div>
                <h4>Expense 2</h4>
                <div>
                    <label>Name</label>
                    <input type="text" name="otherExpenses[1][name]" placeholder="Expense name">
                    <label>Amount</label>
                    <input type="number" name="otherExpenses[1][amount]" min="0">
                    <label>Frequency</label>
                    <select name="otherExpenses[1][frequency]">
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                        <option value="annual">Annual</option>
                    </select>
                </div>
            </div>
        </fieldset>

        <!-- Assets -->
        <fieldset>
            <legend>Assets</legend>
            
            <!-- New Retirement Accounts Question -->
            <h3>Do you have retirement accounts?</h3>
            <div>
                <input type="radio" id="retirementAccountsYes" name="hasRetirementAccounts" value="yes">
                <label for="retirementAccountsYes">Yes</label>
                <input type="radio" id="retirementAccountsNo" name="hasRetirementAccounts" value="no" checked>
                <label for="retirementAccountsNo">No</label>
            </div>

            <div id="retirementAccountsDetailsContainer" style="display: none;">
                <h3>Retirement Accounts</h3>
                <div>
                    <h4>Account 1</h4>
                    <div>
                        <label>Type</label>
                        <select name="retirementAccounts[0][type]">
                            <option value="EPF (Employee Provident Fund)">EPF</option>
                            <option value="NPS (National Pension System)">NPS</option>
                            <option value="PPF (Public Provident Fund)">PPF</option>
                            <option value="Annuity (Pension Plans from Insurance Companies)">Annuity</option>
                            <option value="Other">Other</option>
                        </select>
                        <label>Current Value</label>
                        <input type="number" name="retirementAccounts[0][currentValue]" min="0">
                    </div>
                </div>
                
                <div>
                    <h4>Account 2</h4>
                    <div>
                        <label>Type</label>
                        <select name="retirementAccounts[1][type]">
                            <option value="EPF (Employee Provident Fund)">EPF</option>
                            <option value="NPS (National Pension System)">NPS</option>
                            <option value="PPF (Public Provident Fund)">PPF</option>
                            <option value="Annuity (Pension Plans from Insurance Companies)">Annuity</option>
                            <option value="Other">Other</option>
                        </select>
                        <label>Current Value</label>
                        <input type="number" name="retirementAccounts[1][currentValue]" min="0">
                    </div>
                </div>
            </div>
        </fieldset>

        <!-- Savings Goals -->
        <fieldset>
            <legend>Savings Goals</legend>
            <div>
                <h4>Goal 1</h4>
                <div>
                    <label>Name</label>
                    <input type="text" name="savingsGoals[0][name]" placeholder="Goal name">
                    <label>Target Amount</label>
                    <input type="number" name="savingsGoals[0][targetAmount]" min="0">
                    <label>Current Amount</label>
                    <input type="number" name="savingsGoals[0][currentAmount]" min="0">
                    <label>Category</label>
                    <select name="savingsGoals[0][category]">
                        <option value="travel">Travel</option>
                        <option value="medical">Medical</option>
                        <option value="gifts">Gifts</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>
            
            <div>
                <h4>Goal 2</h4>
                <div>
                    <label>Name</label>
                    <input type="text" name="savingsGoals[1][name]" placeholder="Goal name">
                    <label>Target Amount</label>
                    <input type="number" name="savingsGoals[1][targetAmount]" min="0">
                    <label>Current Amount</label>
                    <input type="number" name="savingsGoals[1][currentAmount]" min="0">
                    <label>Category</label>
                    <select name="savingsGoals[1][category]">
                        <option value="travel">Travel</option>
                        <option value="medical">Medical</option>
                        <option value="gifts">Gifts</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>
        </fieldset>

        <!-- Legacy Planning -->
        <fieldset>
            <legend>Legacy Planning</legend>
            <div id="legacyPlanningCheckboxes">
                <div>
                    <input type="checkbox" id="hasWill" name="legacyPlanning[hasWill]" value="true">
                    <label for="hasWill">Has Will?</label>
                </div>
                
                <div>
                    <input type="checkbox" id="hasEstatePlan" name="legacyPlanning[hasEstatePlan]" value="true">
                    <label for="hasEstatePlan">Has Estate Plan?</label>
                </div>
            </div>

            <!-- Beneficiary Question -->
            <h3>Do you have beneficiaries?</h3>
            <div>
                <input type="radio" id="beneficiariesYes" name="hasBeneficiaries" value="yes">
                <label for="beneficiariesYes">Yes</label>
                <input type="radio" id="beneficiariesNo" name="hasBeneficiaries" value="no" checked>
                <label for="beneficiariesNo">No</label>
            </div>

            <div id="beneficiariesDetailsContainer" style="display: none;">
                <h3>Beneficiaries</h3>
                <div>
                    <h4>Beneficiary 1</h4>
                    <div>
                        <label>Name</label>
                        <input type="text" name="legacyPlanning[beneficiaries][0][name]" placeholder="Full name">
                        <label>Relationship</label>
                        <input type="text" name="legacyPlanning[beneficiaries][0][relationship]" placeholder="Relationship">
                        <label>Percentage</label>
                        <input type="number" name="legacyPlanning[beneficiaries][0][percentage]" min="0" max="100" step="1">
                    </div>
                </div>
                
                <div>
                    <h4>Beneficiary 2</h4>
                    <div>
                        <label>Name</label>
                        <input type="text" name="legacyPlanning[beneficiaries][1][name]" placeholder="Full name">
                        <label>Relationship</label>
                        <input type="text" name="legacyPlanning[beneficiaries][1][relationship]" placeholder="Relationship">
                        <label>Percentage</label>
                        <input type="number" name="legacyPlanning[beneficiaries][1][percentage]" min="0" max="100" step="1">
                    </div>
                </div>
            </div>
        </fieldset>

        <button type="submit">Test Schema</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Pension toggle logic
            const pensionYes = document.getElementById('pensionYes');
            const pensionNo = document.getElementById('pensionNo');
            const pensionDetailsContainer = document.getElementById('pensionDetailsContainer');

            function togglePensionDetails() {
                if (pensionYes.checked) {
                    pensionDetailsContainer.style.display = 'block'; 
                } else {
                    pensionDetailsContainer.style.display = 'none';
                }
            }

            pensionYes.addEventListener('change', togglePensionDetails);
            pensionNo.addEventListener('change', togglePensionDetails);
            togglePensionDetails(); // Set initial state

            // Beneficiaries toggle logic
            const beneficiariesYes = document.getElementById('beneficiariesYes');
            const beneficiariesNo = document.getElementById('beneficiariesNo');
            const beneficiariesDetailsContainer = document.getElementById('beneficiariesDetailsContainer');

            function toggleBeneficiariesDetails() {
                if (beneficiariesYes.checked) {
                    beneficiariesDetailsContainer.style.display = 'block';
                } else {
                    beneficiariesDetailsContainer.style.display = 'none';
                }
            }

            beneficiariesYes.addEventListener('change', toggleBeneficiariesDetails);
            beneficiariesNo.addEventListener('change', toggleBeneficiariesDetails);
            toggleBeneficiariesDetails(); // Set initial state

            // Retirement Accounts toggle logic
            const retirementAccountsYes = document.getElementById('retirementAccountsYes');
            const retirementAccountsNo = document.getElementById('retirementAccountsNo');
            const retirementAccountsDetailsContainer = document.getElementById('retirementAccountsDetailsContainer');

            function toggleRetirementAccountsDetails() {
                if (retirementAccountsYes.checked) {
                    retirementAccountsDetailsContainer.style.display = 'block';
                } else {
                    retirementAccountsDetailsContainer.style.display = 'none';
                }
            }

            retirementAccountsYes.addEventListener('change', toggleRetirementAccountsDetails);
            retirementAccountsNo.addEventListener('change', toggleRetirementAccountsDetails);
            toggleRetirementAccountsDetails(); // Set initial state
        });
    </script>
</body>
</html>
